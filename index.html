<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SayÄ± Oyunu - Level 4</title>

<style>
body{
    font-family: Arial, sans-serif;
    text-align:center;
    background:linear-gradient(135deg,#fff0f5,#e0f7ff);
    margin:0;
    padding:20px;
}

h1{color:#6a0dad;}

#modeBox{margin-bottom:15px;}

#score{margin:10px;font-size:18px;}

#question{font-size:22px;margin:10px;}

#result{height:28px;font-size:18px;margin:8px;}

.buttons{
    display:grid;
    gap:8px;
    max-width:600px;
    margin:auto;
}

button{
    font-size:18px;
    padding:10px;
    border-radius:10px;
    border:none;
    background:white;
}

.star{
    position:fixed;
    bottom:-40px;
    font-size:22px;
    animation:floatUp 1.8s linear forwards;
}

@keyframes floatUp{
    to{
        transform:translateY(-110vh);
        opacity:0;
    }
}

#winScreen{
    display:none;
    font-size:22px;
    margin-top:15px;
}
</style>
</head>

<body>

<h1>ğŸ® SÃ¼per SayÄ± Oyunu</h1>

<div id="modeBox">
Mod:
<select id="modeSelect">
<option value="10">Kolay (1-10)</option>
<option value="20">Orta (1-20)</option>
<option value="30">Zor (1-30)</option>
</select>
</div>

<div id="score">Puan: 0 / 10</div>
<div id="question"></div>
<div id="result"></div>
<div class="buttons" id="buttons"></div>

<div id="winScreen">
ğŸ† 10 DoÄŸru! BÃ¶lÃ¼m Bitti ğŸ‰<br><br>
<button onclick="resetGame()">Tekrar Oyna</button>
</div>

<script>
let maxNumber = 10;
let correctNumber = 1;
let score = 0;

const modeSelect = document.getElementById("modeSelect");
const buttonsDiv = document.getElementById("buttons");

modeSelect.addEventListener("change", function(){
    maxNumber = parseInt(this.value);
    resetGame();
});

function speak(text){
    if(!window.speechSynthesis) return;
    window.speechSynthesis.cancel();
    let s = new SpeechSynthesisUtterance(text);
    s.lang = "tr-TR";
    window.speechSynthesis.speak(s);
}

function newQuestion(){
    correctNumber = Math.floor(Math.random()*maxNumber)+1;
    document.getElementById("question").innerText =
        "Hadi " + correctNumber + " sayÄ±sÄ±nÄ± bul!";
    document.getElementById("result").innerText="";
}

function checkAnswer(num){
    if(score >= 10) return;

    if(num === correctNumber){
        score++;
        document.getElementById("score").innerText =
            "Puan: " + score + " / 10";
        document.getElementById("result").innerText="â­ DoÄŸru!";
        speak("DoÄŸru");
        createStars();

        if(score === 10){
            document.getElementById("winScreen").style.display="block";
            speak("Tebrikler kazandÄ±n");
            return;
        }

        setTimeout(newQuestion,1000);

    }else{
        document.getElementById("result").innerText="âŒ Tekrar dene!";
        speak("Tekrar dene");
    }
}

function createStars(){
    for(let i=0;i<5;i++){
        let star=document.createElement("div");
        star.className="star";
        star.style.left=Math.random()*100+"vw";
        star.innerText="â­";
        document.body.appendChild(star);
        setTimeout(()=>star.remove(),1800);
    }
}

function createButtons(){
    buttonsDiv.innerHTML="";
    let columns = maxNumber <= 10 ? 5 : 6;
    buttonsDiv.style.gridTemplateColumns =
        "repeat("+columns+",1fr)";

    for(let i=1;i<=maxNumber;i++){
        let btn=document.createElement("button");
        btn.innerText=i;
        btn.onclick=function(){checkAnswer(i);};
        buttonsDiv.appendChild(btn);
    }
}

function resetGame(){
    score=0;
    document.getElementById("score").innerText="Puan: 0 / 10";
    document.getElementById("winScreen").style.display="none";
    createButtons();
    newQuestion();
}

createButtons();
newQuestion();
</script>

</body>
</html>
